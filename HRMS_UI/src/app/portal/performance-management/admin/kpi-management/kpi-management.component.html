<app-breadcrumbs title="KPP Management" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<div class="card">
    <div class="card-header">
        <div class="d-flex align-items-center">
            <div class="flex-grow-1">
                <h6 class="card-title mb-0">Key Performance Parameters</h6>
            </div>
            <div class="flex-shrink-0">
                <button class="btn btn-primary btn-add ml-2 px-2" (click)="addKppInformation()"><i
                        class="las la-plus"></i>
                    &nbsp;Add KPP
                </button>
            </div>
        </div>
    </div>
    <div class="card-body collapse show" id="collapseExample3">
        <ejs-grid #overviewgrid id='overviewgrid' [dataSource]='kppInformations' [allowSorting]='true'
            [enableHover]='false' [enableHeaderFocus]='true' [filterSettings]='filterSettings' [allowSorting]='true'
            [allowFiltering]='true' gridLines='Both' allowPaging='true' [pageSettings]='pageSettings'
            [loadingIndicator]='loadingIndicator'>
            <e-columns>
                <e-column field='KppSlno' [visible]="false"></e-column>
                <!-- <e-column type='checkbox' [allowSorting]='false' width='50'></e-column> -->
                <e-column field='KpiName' headerText='KPP Title'></e-column>
                <e-column field='KraName' headerText='Kra Name'></e-column>
                <e-column field='FrequencyName' headerText='Frequency'></e-column>
                <e-column field='Measurement' headerText='Measurement'></e-column>
                <!-- <e-column field='ThresholdValues' headerText='Threshold Values'></e-column> -->
                <e-column field='MinThresholdValues' headerText='Minimum Threshold Values'></e-column>
                <e-column field='MaxThresholdValues' headerText='Maximum Threshold Values'></e-column>
                <e-column field='Description' headerText='KPP Description'></e-column>
                <e-column [allowFiltering]='false' headerText='Actions' width='140'>
                    <ng-template #template let-data>
                        <div class="d-flex align-items-center">
                            <button type="button" class="btn btn-light position-relative p-0 avatar-xs rounded-circle"
                                (click)="onViewClick(data)">
                                <span class="avatar-title bg-transparent text-reset">
                                    <i class="bx bx-info-circle text-info fs-18"></i>
                                </span>
                            </button>
                            <button type="button" class="btn btn-light position-relative p-0 avatar-xs rounded-circle"
                                (click)="onEditClick(data)">
                                <span class="avatar-title bg-transparent text-reset">
                                    <i class="bx bx bx-edit-alt text-success fs-18"></i>
                                </span>
                            </button>
                            <button type="button" class="btn btn-light position-relative p-0 avatar-xs rounded-circle"
                                (click)="onDeleteClick(data)" [disabled]="data.KpiCount > 0">
                                <span class="avatar-title bg-transparent text-reset">
                                    <i class=" bx bx-trash text-danger fs-18"></i>
                                </span>
                            </button>
                        </div>
                    </ng-template>
                </e-column>
            </e-columns>
        </ejs-grid>
    </div>
</div>